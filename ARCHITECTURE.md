# Архитектура проекта

## Текущая структура (монолитный файл)

**Проблемы:**
- ❌ Один файл ~500 строк - сложно навигироваться
- ❌ Смешаны разные ответственности (HTTP, парсинг, извлечение данных, сохранение)
- ❌ Сложно тестировать отдельные компоненты
- ❌ Сложно переиспользовать код
- ❌ При изменении одного компонента нужно редактировать большой файл

## Рекомендуемая структура (модульная)

```
russian-business/
├── scraper/              # Пакет скрапера
│   ├── __init__.py       # Экспорт основного класса
│   ├── config.py         # Константы и настройки
│   ├── http_client.py    # HTTP запросы и загрузка страниц
│   ├── parsers.py        # Парсинг HTML страниц
│   ├── extractors.py     # Извлечение уникальных полей
│   ├── storage.py        # Сохранение данных (JSON, CSV)
│   └── scraper.py        # Основной класс скрапера
├── main.py               # Точка входа
├── test_small.py         # Тестовый скрипт
└── requirements.txt
```

### Преимущества модульной структуры:

1. **Разделение ответственности (SRP)**
   - Каждый модуль отвечает за одну задачу
   - Легче понять что делает каждый файл

2. **Тестируемость**
   - Можно тестировать каждый модуль отдельно
   - Легче писать unit-тесты

3. **Переиспользование**
   - Можно использовать `extractors.py` в других проектах
   - Можно заменить `storage.py` на работу с БД без изменения остального кода

4. **Читаемость**
   - Меньше строк в каждом файле
   - Легче найти нужный код

5. **Масштабируемость**
   - Легко добавлять новые модули (например, `database.py`)
   - Легко расширять функциональность

### Когда использовать монолитный файл?

✅ **Одним файлом можно оставить если:**
- Проект очень маленький (<200 строк)
- Это простой скрипт для одноразового использования
- Нет планов на расширение

❌ **Нужно разбивать если:**
- Код больше 300-400 строк
- Есть разные области ответственности
- Планируется развитие проекта
- Нужно тестировать компоненты отдельно

## Сравнение подходов

| Критерий | Монолитный файл | Модульная структура |
|----------|----------------|---------------------|
| Читаемость | ⭐⭐ | ⭐⭐⭐⭐⭐ |
| Тестируемость | ⭐⭐ | ⭐⭐⭐⭐⭐ |
| Переиспользование | ⭐⭐ | ⭐⭐⭐⭐⭐ |
| Простота для новичков | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| Масштабируемость | ⭐⭐ | ⭐⭐⭐⭐⭐ |
| Время на рефакторинг | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |

## Рекомендация

**Для текущего проекта (500+ строк):** 
✅ **Стоит разбить на модули**

Это улучшит:
- Поддерживаемость кода
- Возможность тестирования
- Читаемость
- Возможность расширения

